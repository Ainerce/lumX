"use strict";
var testing_1 = require('@angular/core/testing');
var to_do_item_model_1 = require('to-do/to-do-item.model');
var to_do_store_1 = require('to-do/to-do.store');
var app_module_1 = require('app.module');
describe('To-Do Store', function () {
    beforeEach(function () {
        testing_1.TestBed.configureTestingModule({
            imports: [
                app_module_1.AppModule,
            ],
            providers: [
                to_do_store_1.ToDoStore,
            ],
        });
        testing_1.TestBed.compileComponents().catch(function (error) { return console.error(error); });
    });
    it('should have a to-do store', testing_1.inject([to_do_store_1.ToDoStore], function (toDoStore) {
        expect(toDoStore.items).toBeDefined();
    }));
    it('can add a to-do item in the to-do store', testing_1.inject([to_do_store_1.ToDoStore], function (toDoStore) {
        toDoStore.reset();
        var newItemLabel = 'New item 1';
        var newId = toDoStore.add(new to_do_item_model_1.ToDoItem(newItemLabel));
        expect(toDoStore.items).toBeDefined();
        expect(toDoStore.items.length).toBe(1);
        expect(newId).toBe(0);
        expect(toDoStore.items[newId].id).toBe(newId);
        expect(toDoStore.items[newId].label).toBe(newItemLabel);
        expect(toDoStore.items[newId].done).toBeUndefined();
        expect(toDoStore.items[newId].due).toBeUndefined();
        var doneDate = new Date();
        newId = toDoStore.add(new to_do_item_model_1.ToDoItem(newItemLabel, doneDate));
        expect(toDoStore.items).toBeDefined();
        expect(toDoStore.items.length).toBe(2);
        expect(newId).toBe(1);
        expect(toDoStore.items[newId].id).toBe(newId);
        expect(toDoStore.items[newId].label).toBe(newItemLabel);
        expect(toDoStore.items[newId].done).toBe(doneDate);
        expect(toDoStore.items[newId].due).toBeUndefined();
    }));
    it('can remove a to-do item from the to-do store', testing_1.inject([to_do_store_1.ToDoStore], function (toDoStore) {
        toDoStore.reset();
        var newItemLabel = 'New item 1';
        var doneDate = new Date();
        var newId = toDoStore.add(new to_do_item_model_1.ToDoItem(newItemLabel, doneDate));
        var removedItem = toDoStore.remove(newId);
        expect(toDoStore.items).toBeDefined();
        expect(toDoStore.items.length).toBe(0);
        expect(removedItem.id).toBe(newId);
        expect(removedItem.label).toBe(newItemLabel);
        expect(removedItem.done).toBe(doneDate);
        expect(removedItem.due).toBeUndefined();
    }));
    it('can reset to-do store', testing_1.inject([to_do_store_1.ToDoStore], function (toDoStore) {
        var newItemLabel = 'New item 1';
        toDoStore.add(new to_do_item_model_1.ToDoItem(newItemLabel));
        toDoStore.reset();
        expect(toDoStore.items).toBeDefined();
        expect(toDoStore.items.length).toBe(0);
    }));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG8tZG8uc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRvLWRvLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHdCQUFnQyx1QkFBdUIsQ0FBQyxDQUFBO0FBRXhELGlDQUF5Qix3QkFBd0IsQ0FBQyxDQUFBO0FBQ2xELDRCQUEwQixtQkFBbUIsQ0FBQyxDQUFBO0FBRTlDLDJCQUEwQixZQUFZLENBQUMsQ0FBQTtBQUd2QyxRQUFRLENBQUMsYUFBYSxFQUFFO0lBQ3BCLFVBQVUsQ0FBQztRQUNQLGlCQUFPLENBQUMsc0JBQXNCLENBQUM7WUFDM0IsT0FBTyxFQUFFO2dCQUNMLHNCQUFTO2FBQ1o7WUFFRCxTQUFTLEVBQUU7Z0JBQ1AsdUJBQVM7YUFDWjtTQUNKLENBQUMsQ0FBQztRQUVILGlCQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBQyxLQUFhLElBQUssT0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFwQixDQUFvQixDQUFDLENBQUM7SUFDL0UsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsMkJBQTJCLEVBQUUsZ0JBQU0sQ0FBQyxDQUFDLHVCQUFTLENBQUMsRUFBRSxVQUFDLFNBQW9CO1FBQ3JFLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDMUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVKLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxnQkFBTSxDQUFDLENBQUMsdUJBQVMsQ0FBQyxFQUFFLFVBQUMsU0FBb0I7UUFDbkYsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBR2xCLElBQU0sWUFBWSxHQUFXLFlBQVksQ0FBQztRQUMxQyxJQUFJLEtBQUssR0FBVyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksMkJBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBRTlELE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFdEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNwRCxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUduRCxJQUFNLFFBQVEsR0FBUyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2xDLEtBQUssR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksMkJBQVEsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUU1RCxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXRCLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFSixFQUFFLENBQUMsOENBQThDLEVBQUUsZ0JBQU0sQ0FBQyxDQUFDLHVCQUFTLENBQUMsRUFBRSxVQUFDLFNBQW9CO1FBQ3hGLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUdsQixJQUFNLFlBQVksR0FBVyxZQUFZLENBQUM7UUFDMUMsSUFBTSxRQUFRLEdBQVMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNsQyxJQUFJLEtBQUssR0FBVyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksMkJBQVEsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUN4RSxJQUFJLFdBQVcsR0FBYSxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXBELE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZDLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDNUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVKLEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSxnQkFBTSxDQUFDLENBQUMsdUJBQVMsQ0FBQyxFQUFFLFVBQUMsU0FBb0I7UUFDakUsSUFBTSxZQUFZLEdBQVcsWUFBWSxDQUFDO1FBQzFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSwyQkFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFFMUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRWxCLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDUixDQUFDLENBQUMsQ0FBQyJ9